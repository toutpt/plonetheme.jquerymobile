<tal:block tal:define="checkPermission nocall: context/portal_membership/checkPermission;
    context_state context/plone_context_state;
    canonical_object context_state/canonical_object;
    canonical_state canonical_object/plone_context_state;
    can_edit python:checkPermission('Modify Portal Content', context);
    can_list python: checkPermission('List folder contents', context);
    is_folder canonical_state/is_folderish;
    isview context_state/is_view_template;"
    i18n:domain="plone">
<div data-role="controlgroup" data-type="horizontal" tal:condition="python:can_edit and isview">
    <a tal:attributes="href string:${context_state/canonical_object_url}/folder_contents" data-role="button" tal:condition="python:can_list and is_folder" i18n:translate="Contents">Contents</a>
    <a tal:attributes="href string:${context/absolute_url}/edit" data-role="button" i18n:translate="label_edit">Edit</a>
</div>
<a tal:attributes="href string:${context_state/object_url}" data-role="button" tal:condition="not: isview" i18n:translate="label_view">View</a>
</tal:block>